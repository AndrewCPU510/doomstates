import React, { useRef } from 'react';
import { useScrollObserver } from '../hooks/useScrollObserver';

const VALID_IMAGE_DATA_URL = 'data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/4QAiRXhpZgAASUkqAAgAAAABABIBAwABAAAAAQAAABoBBQABAAAAVgAAABsBBQABAAAAXgAAACgBAwABAAAAAgAAADEBAgANAAAAZgAAADIBAgAUAAAAjAAAABMCAwABAAAAAgAAAGmHBAABAAAApAAAAJoBAAABAAEAAACaAQADAAAAUDAxADsBAgADAAAAAQMAAADqAwADAAAAAwAAAAAAAAD/4AAQSkZJRgABAQAAAQABAAD/2gBDAAYEBAUEBAYFBQUGBgYHCQ4JCQgICRINDQoOFRIWFhUSFBQXGI4XGCAoGScgIigqOTEtLS8xOjo6Ojo6Ojo6Ojr/2gBDAQYGBgoJEQkJEREJGBEREBERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERH/wgARCAQABAADASIAAhEBAxEB/8QAHAABAQEAAwEBAQAAAAAAAAAAAAECAwQFBgcI/8QAGQEBAQEBAQEAAAAAAAAAAAAAAAECAwQF/9oADAMBAAIQAxAAAAC9X89+y+U57eL5n2vk/dPmPT8/wDP9l+W7734D633n5R7H2Pz+e/0r82959L4n03vPjfFfZfE9Z7z43z313x3zfsPjPpvp/i/J/c/G4eU8b6nwf0n5l9L9d8n839p8V9V9v8p87+h/O/K/pfzfof0f5j6L7j4v5/674n5f7n4z5X7r4y3lPjfU/FfWfFfV/FfL/ZfFfH/Z/GfAfa/GfLfYfJ/HfYfH/AAH2vx/mvsfj/P/bfIfG/ZfF/MfYfJ/Jfa/H/OfZfJfEfY/JfRfY/FfS/WfD/S/YfB/T/afBfTfYfGfP/XfGfMfYfKfL/AGnyXy/2Xynyn2nyvyv1vy3zH2fyn0n1nyP0X2nyP0f1nyXzn1/yn0v1nyP031nx3zn2Hx30313xvzn1/wAb6z6z4n5z634r6z6r4j5f674f576/4T5r7D4T5j674P5v6z4L5z6z4H5v674D5n6z4D5r674H5n6z4P5r634H5v6z4P5r6z4H57634D5v634H5v6z4P5v6z4L5v6v4P5r6z4T5z6v4T5r6v4P5v6z4T5v6v4P5r6v4P5v6v4P5v6z4T5v6v4P5z6z4P5v6v4P5z6v4T5z6v4P5v6v4P5v6v4P5z6z4T5v6v4P5z6v4T5v6v4T5z6r4T5v6v4T5z6v4P5v6z4P5z6z4T5v6v4T5v6v4P5z6v4P5z6r4T5v6v4P5z6v4P5v6v4T5z6v4P5z6v4P5z6v4P5v6v4P5z6v4T5z6v4P5z6v4P5z6r4P5z6v4T5z6v4P5z6v4T5v6r4T5z6v4P5v6r4T5z6v4P5v6r4T5z6r4P5z6r4T5z6r4P5z6r4P5v6r4T5v6v4P5z6r4P5v6r4P5v6r4T5v6r4P5v6r4T5v6r4T5v6r4P5v6r4P5v6r4T5v6v4T5v6r4T5v6v4P5v6r4T5v6v4P5v6v4T5v6r4P5v6r4T5v6r4P5v6v4T5v6v4P5v6v4T5v6r4T5v6r4P5v6r4T5z6r4P5v6r4T5z6v4T5z6r4P5z6v4T5z6r4P5z6r4T5z6v4T5v6r4T5z6v4P5v6v4T5v6v4P5z6v4P5v6v4T5v6r4T5v6v4P5v6v4T5v6r4T5v6v4P5v6r4T5v6v4P5v6r4T5z6v4P5v6r4T5v6v4T5v6r4T5v6v4P5v6r4T5v6r4P5v6r4P5v6r4T5v6v4T5v6v4T5v6v4T5v6v4T5v6v4P5v6v4T5v6r4P5v6v4P5v6r4P5v6v4P5v6v4P5v6r4P5v6v4P5v6v4P5v6v4P5v6r4P5v6v4P5v6v4P5v6v4T5v6v4T5v6v4T5v6v4P5v6v4T5v6r4T5v6v4P5v6v4T5v6v4T5v6r4P5v6v4P5v6v4P5v6v4T5v6r4P5v6v4T5v6v4P5v6v4T5v6r4T5v6v4T5v6v4P5v6v4T5v6r4P5v6v4T5v6r4P5v6v4T5v6v4P5v6v4T5v6r4T5v6r4P5v6v4T5v6v4P5v6r4T5v6r4P5v6v4T5v6v4P5v6r4T5v6r4P5v6v4T5v6v4P5v6r4P5v6v4T5v6r4T5v6r4P5v6v4T5v6r4P5v6v4T5v6r4T5v6v4P5v6v4P5v6v4P5v6v4T5v6r4T5v6v4P5v6v4P5v6v4P5v6r4P5v6v4T5v6v4P5v6v4T5v6r4P5v6v4P5v6r4P5v6v4T5v6v4P5v6r4P5v6v4T5v6r4T5v6v4P5v6v4T5v6r4P5v6v4P5v6v4P5v6r4T5v6r4P5v6r4T5v6v4P5v6r4P5v6v4T5v6r4P5v6v4T5v6r4T5v6v4P5v6r4T5v6v4P5v6r4T5v6r4T5v6v4P5v6v4P5v6r4P5v6v4P5v6v4P5v6v4P5v6v4T5v6r4P5v6r4P5v6r4T5v6v4P5v6v4P5v6v4P5v6v4P5v6r4P5v6r4P5v6v4P5v6r4P5v6r4P5v6v4T5v6v4P5v6v4P5v6r4P5v6v4P5v6v4T5v6r4T5v6v4P5v6r4P5v6v4T5v6r4P5v6r4P5v6r4P5v6v4T5v6v4P5v6v4T5v6r4T5v6r4P5v6v4T5v6v4P5v6r4P5v6v4P5v6v4T5v6r4P5v6v4P5v6r4P5v6r4T5v6r4P5v6v4P5v6r4P5v6v4P5v6v4T5v6r4T5v6v4P5v6r4P5v6v4T5v6v4T5v6r4P5v6r4T5v6v4P5v6v4P5v6v4P5v6v4T5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4T5v6r4P5v6v4T5v6v4P5v6v4T5v6r4P5v6v4P5v6r4T5v6r4P5v6r4P5v6r4T5v6r4P5v6v4T5v6v4P5v6r4T5v6v4P5v6r4T5v6v4P5v6v4P5v6v4P5v6r4P5v6r4P5v6v4P5v6v4P5v6v4P5v6v4T5v6v4T5v6v4P5v6v4P5v6v4T5v6v4P5v6v4P5v6v4P5v6v4P5v6r4T5v6v4P5v6r4P5v6r4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6r4P5v6v4T5v6r4P5v6r4P5v6v4T5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P5v6v4P_gA==';


interface CalloutProps {
    children: React.ReactNode;
    className: string;
    triggerProgress: number;
    currentProgress: number;
}

const Callout: React.FC<CalloutProps> = ({ children, className, triggerProgress, currentProgress }) => {
    const isVisible = currentProgress > triggerProgress;
    return (
        <div className={`absolute p-2 md:p-4 bg-brand-offwhite/80 text-brand-charcoal backdrop-blur-sm border-2 border-brand-charcoal/50 transition-all duration-500 ${className} ${isVisible ? 'opacity-100 translate-y-0' : 'opacity-0 translate-y-8'}`}>
            <p className="font-mono text-sm md:text-base font-bold whitespace-nowrap">{children}</p>
        </div>
    );
};

const ImmersiveSection: React.FC = () => {
    const sectionRef = useRef<HTMLDivElement>(null);
    const { progress } = useScrollObserver(sectionRef);

    return (
        <section ref={sectionRef} className="relative h-screen bg-brand-brown text-brand-offwhite overflow-hidden">
            {/* No background image here, only overlay remains */}
            <div className="absolute inset-0 bg-overlay-40 z-10"></div>
            <div className="relative h-full w-full max-w-7xl mx-auto z-20">
                <Callout className="top-[20%] left-[10%]" triggerProgress={0.2} currentProgress={progress}>
                    Energy Density ↑
                </Callout>
                <Callout className="top-[55%] right-[15%]" triggerProgress={0.5} currentProgress={progress}>
                    Shelf Stability ↑
                </Callout>
                <Callout className="bottom-[15%] left-[25%]" triggerProgress={0.7} currentProgress={progress}>
                    Processing ↓
                </Callout>
            </div>
             <div className="absolute z-30 bottom-10 left-1/2 -translate-x-1/2 text-center px-4">
                <h2 className="text-3xl md:text-5xl font-bold uppercase tracking-wider text-shadow-lg" style={{textShadow: '2px 2px 8px rgba(0,0,0,0.7)'}}>Immersive Nutrition</h2>
                <p className="mt-2 font-mono text-stone-300" style={{textShadow: '1px 1px 4px rgba(0,0,0,0.7)'}}>A macro view of micro-level benefits.</p>
            </div>
        </section>
    );
};

export default ImmersiveSection;
